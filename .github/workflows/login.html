<!DOCTYPE html>
<html>
<head>
  <title>Login</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">

  <style>
    .bg-image{
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      object-fit: cover;
      z-index: -1;
    }

    .login-card{
      background: rgba(255,255,255,0.9);
      border-radius: 10px;
    }
  </style>
</head>

<body>

<img src="login.jpeg" class="bg-image">

<div class="container d-flex justify-content-center align-items-center" style="height:100vh;">
  <div class="card p-4 shadow login-card" style="width:350px;">
    
    <h3 class="text-center mb-4">Login</h3>

    <input type="text" id="name" class="form-control mb-1" placeholder="Enter Name">
    <div id="nameError" class="text-danger mb-2" style="font-size:14px;"></div>
    
    <input type="password" id="password" class="form-control mb-1" placeholder="Enter Password">
    <div id="passError" class="text-danger mb-3" style="font-size:14px;"></div>
    
    <button class="btn btn-primary w-100" onclick="login()">Login</button>

    <p class="mt-3 text-center">
      Not Registered? <a href="reg.html">Register Here</a>
    </p>

  </div>
</div>

<script>
function login(){
  let name = document.getElementById("name").value.trim();
  let pass = document.getElementById("password").value.trim();

  let nameError = document.getElementById("nameError");
  let passError = document.getElementById("passError");

  
  nameError.innerHTML = "";
  passError.innerHTML = "";

  let valid = true;

  if(name === ""){
    nameError.innerHTML = "Please enter username";
    valid = false;
  }

  if(pass === ""){
    passError.innerHTML = "Please enter password";
    valid = false;
  }
  if(name=="" || pass==""){
    alert("Please fill all fields");
    return;
  }
  
  if(!valid) return;

  let user = JSON.parse(localStorage.getItem(name));

  if(user && user.password === pass){
    localStorage.setItem("currentUser", name);
    window.location.href="vote.html";
  }else{
    passError.innerHTML = "Invalid username or password";
  }
}
</script>

</body>
</html>
